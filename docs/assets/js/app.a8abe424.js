(function(){"use strict";var e={8205:function(e,t,n){var o=n(9242),s=n(3396);const a={id:"app"};function i(e,t,n,o,i,r){const d=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",a,[((0,s.wg)(),(0,s.j4)(d,{key:e.$route.fullPath}))])}var r={name:"App"},d=n(89);const l=(0,d.Z)(r,[["render",i]]);var c=l,u=n(678),m=n(7139);const p=e=>((0,s.dD)("data-v-73d62cfc"),e=e(),(0,s.Cn)(),e),h={class:"series-list"},w=p((()=>(0,s._)("img",{src:"https://static.tvmaze.com/images/tvm-header-logo.png",alt:"Logo TV MAZE",class:"logo"},null,-1))),v={class:"grid"},f=["src","alt"];function g(e,t,n,o,a,i){const r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",h,[w,(0,s._)("div",v,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.displayedShows,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"grid-item"},[(0,s.Wm)(r,{to:`/detail/${e.id}`},{default:(0,s.w5)((()=>[(0,s._)("img",{src:e.image.medium,alt:e.name},null,8,f),(0,s._)("h2",null,(0,m.zw)(e.name),1)])),_:2},1032,["to"])])))),128))]),(0,s._)("button",{class:"load-more",onClick:t[0]||(t[0]=(...e)=>i.loadMore&&i.loadMore(...e))}," Exibir Mais ")])}var y=n(1076),_={data(){return console.log("Autor :>> ","Bruno da Cunha Ferreira"),console.log("linkedin :>> ","https://www.linkedin.com/in/bruno-c-ferreira/"),{shows:[],displayCount:20}},computed:{displayedShows(){return this.shows.slice(0,this.displayCount)}},async created(){const e=await y.Z.get("https://api.tvmaze.com/shows");this.shows=e.data},methods:{loadMore(){this.displayCount+=20}}};const b=(0,d.Z)(_,[["render",g],["__scopeId","data-v-73d62cfc"]]);var z=b;const k=e=>((0,s.dD)("data-v-02a59454"),e=e(),(0,s.Cn)(),e),C={style:{"background-color":"black",color:"#68c72b"}},D={key:0},E=["src","alt"],M={style:{display:"flex","overflow-x":"auto"}},O=["src","alt"],x=["innerHTML"],P=k((()=>(0,s._)("h3",{class:"cast"}," Elenco ",-1))),S={style:{display:"flex","overflow-x":"auto"}},j=["src","alt"],I={class:"person"},A={class:"person"},H=k((()=>(0,s._)("h3",null,"Comentários",-1))),T=k((()=>(0,s._)("button",{type:"submit",class:"submit-button"}," Enviar ",-1)));function K(e,t,n,a,i,r){return(0,s.wg)(),(0,s.iD)("div",C,[(0,s._)("button",{class:"back-button",onClick:t[0]||(t[0]=(...e)=>r.goBack&&r.goBack(...e))}," Voltar "),i.show?((0,s.wg)(),(0,s.iD)("div",D,[(0,s._)("img",{src:i.show.image.medium,alt:i.show.name},null,8,E),(0,s._)("h2",null,(0,m.zw)(i.show.name),1),(0,s._)("p",null,"Gêneros: "+(0,m.zw)(i.show.genres.join(", ")),1),(0,s._)("p",null,"Nota: "+(0,m.zw)(r.starRating),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.seasons,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[(0,s._)("h3",null,"Temporada "+(0,m.zw)(e.number),1),(0,s._)("div",M,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.episodes,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,class:"series-episode"},[(0,s._)("img",{src:e.image.medium,alt:e.name},null,8,O),(0,s._)("h4",null,(0,m.zw)(e.name),1),(0,s._)("div",{innerHTML:e.summary},null,8,x)])))),128))])])))),128)),(0,s._)("div",null,[P,(0,s._)("div",S,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.show._embedded.cast,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.person.id,class:"cast-member"},[(0,s._)("img",{src:e.person.image.medium,alt:e.person.name},null,8,j),(0,s._)("h4",I,(0,m.zw)(e.person.name),1),(0,s._)("p",A,(0,m.zw)(e.character.name),1)])))),128))])]),(0,s._)("div",null,[H,(0,s._)("form",{class:"comment-form",onSubmit:t[3]||(t[3]=(0,o.iM)(((...e)=>r.addComment&&r.addComment(...e)),["prevent"]))},[(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.newComment=e),placeholder:"Adicione um comentário...",class:"comment-field",onKeydown:t[2]||(t[2]=(0,o.D2)((0,o.iM)(((...e)=>r.addComment&&r.addComment(...e)),["prevent"]),["enter"]))},null,544),[[o.nr,i.newComment]]),T],32),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.comments,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,class:"comment"},[(0,s._)("p",null,(0,m.zw)(e.text),1)])))),128))])])):(0,s.kq)("",!0)])}n(560);var Z=n(7795),B=n(4287),F=n(3617),V=n.n(F);const Y={apiKey:"AIzaSyDdQHe-323Wfh2RfEI3zz8X256t95SF5WA",authDomain:"vue-tv-maze-8d8bd.VUE_APP_app.com",projectId:"vue-tv-maze-8d8bd",storageBucket:"vue-tv-maze-8d8bd.VUE_APP_storage.app",messagingSenderId:"727895397299",appId:"1:727895397299:web:313ad4ec466e65669ff1c6",measurementId:"G-CMPHPQESR7"};let L=null;null!=Y&&(L=(0,Z.ZF)(Y));const R=null==L?null:(0,B.ad)();var U={props:{id:{type:String,required:!0}},data(){return console.log("Autor :>> ","Bruno da Cunha Ferreira"),console.log("linkedin :>> ","https://www.linkedin.com/in/bruno-c-ferreira/"),{show:null,newComment:"",comments:[],sanitizedEpisodes:[]}},computed:{seasons(){return this.sanitizedEpisodes.reduce(((e,t)=>(e[t.season]||(e[t.season]={id:t.season,number:t.season,episodes:[]}),e[t.season].episodes.push(t),e)),{})},starRating(){const e="⭐".repeat(Math.round(this.show.rating.average)),t="✰".repeat(10-Math.round(this.show.rating.average));return e+t}},async created(){const e=await y.Z.get(`https://api.tvmaze.com/shows/${this.id}?embed[]=episodes&embed[]=cast`);this.show=e.data,R&&this.loadComments(),this.sanitizeEpisodes()},methods:{async addComment(){const e={text:this.newComment};if(this.show&&null!=this.show.id&&(e.showId=this.show.id),R)try{await(0,B.ET)((0,B.hJ)(R,"comments"),e),await this.loadComments()}catch(t){console.error("Erro ao gravar comentário:",t.code,t.message)}this.newComment=""},async loadComments(){if(null!==R){const e=(0,B.IO)((0,B.hJ)(R,"comments"),(0,B.ar)("showId","==",this.show.id)),t=await(0,B.PL)(e);this.comments=t.docs.map((e=>e.data()))}},sanitizeEpisodes(){this.sanitizedEpisodes=this.show._embedded.episodes.map((e=>{const t={...e};return t.summary=V().sanitize(e.summary),t}))},sanitizeCast(){this.sanitizedCast=this.show._embedded.cast.map((e=>{const t={...e};return t.character.name=V().sanitize(e.character.name),t.person.name=V().sanitize(e.person.name),t}))},goBack(){window.history.back()}}};const W=(0,d.Z)(U,[["render",K],["__scopeId","data-v-02a59454"]]);var $=W;const q=[{path:"/",name:"series",component:z},{path:"/detail/:id",name:"detail",component:$,props:!0}],G=(0,u.p7)({history:(0,u.PO)("/vue-tv-maze/"),routes:q});var J=G;(0,o.ri)(c).use(J).mount("#app")}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,s,a){if(!o){var i=1/0;for(c=0;c<e.length;c++){o=e[c][0],s=e[c][1],a=e[c][2];for(var r=!0,d=0;d<o.length;d++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[d])}))?o.splice(d--,1):(r=!1,a<i&&(i=a));if(r){e.splice(c--,1);var l=s();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,s,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,a,i=o[0],r=o[1],d=o[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(d)var c=d(n)}for(t&&t(o);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},o=self["webpackChunkvue_tv_maze"]=self["webpackChunkvue_tv_maze"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(8205)}));o=n.O(o)})();
//# sourceMappingURL=app.a8abe424.js.map